(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9061],{9061:(R,T,m)=>{"use strict";m.r(T),m.d(T,{HomePageModule:()=>nt});var d=m(6814),r=m(3582),c=m(95),v=m(9599),_=m(5861),t=m(6689),f=m(2848),u=m(4414);let P=(()=>{var o;class s{constructor(n,e){this.dataService=n,this.modalCtrl=e,this.minDate=new Date(this.dataService.dateRanges[0].startDate),this.maxDate=new Date(this.dataService.dateRanges[this.dataService.dateRanges.length-1].endDate),this.minDateString=this.minDate.toISOString().split("T")[0],this.maxDateString=this.maxDate.toISOString().split("T")[0]}ngOnInit(){}cancel(){this.modalCtrl.dismiss()}onDateChange(n){let e=n.detail.value.split("T")[0].replaceAll("-","/"),i=new Date(e),l=0;for(let p of this.dataService.dateRanges){let C=new Date(p.startDate),I=new Date(p.endDate);if(i>=C&&i<=I)return this.dataService.dateRangeIndex.next(l),void this.modalCtrl.dismiss();l++}}}return(o=s).\u0275fac=function(n){return new(n||o)(t.Y36(f.D),t.Y36(u.IN))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-date-selection-modal"]],decls:10,vars:2,consts:[[1,"content"],["color","medium"],[1,"spacer"],["presentation","date",3,"min","max","ionChange"],[1,"buttons-container"],["color","light",3,"click"]],template:function(n,e){1&n&&(t.TgZ(0,"ion-content")(1,"div",0)(2,"ion-text",1),t._uU(3,"Select a date to move the schedule to that week."),t.qZA(),t._UZ(4,"div",2),t.TgZ(5,"ion-datetime",3),t.NdJ("ionChange",function(l){return e.onDateChange(l)}),t.qZA(),t._UZ(6,"div",2),t.TgZ(7,"div",4)(8,"ion-button",5),t.NdJ("click",function(){return e.cancel()}),t._uU(9,"CANCEL"),t.qZA()()()()),2&n&&(t.xp6(5),t.Q6J("min",e.minDateString)("max",e.maxDateString))},dependencies:[r.YG,r.W2,r.x4,r.yW,r.QI],styles:[".buttons-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}.content[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}.spacer[_ngcontent-%COMP%]{padding:10px}"]}),s})();function S(o,s){if(1&o){const a=t.EpF();t.TgZ(0,"ion-item",9),t.NdJ("click",function(){const i=t.CHM(a).$implicit,l=t.oxw();return t.KtG(l.onItemSelect(i))}),t.TgZ(1,"ion-label")(2,"ion-text")(3,"b"),t._uU(4),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"sub")(7,"ion-text",10),t._uU(8),t.TgZ(9,"b"),t._uU(10),t.qZA()()()()(),t._UZ(11,"br"),t.qZA()}if(2&o){const a=s.$implicit,n=t.oxw();t.xp6(4),t.AsE("",a.patient.firstName," ",a.patient.lastName,""),t.xp6(4),t.hij(" ",a.date," | "),t.xp6(2),t.Oqu(n.getAppointmentTimeRange(a))}}let M=(()=>{var o;class s{constructor(n,e){this.dataService=n,this.modalCtrl=e,this.appointments=[],this.unfilteredAppointments=[]}ngOnInit(){const n=this.dataService.getSchedule();for(let e in n)this.appointments=this.appointments.concat(n[e]);this.appointments=this.appointments.filter(e=>e.physicianName===this.dataService.physicianName.getValue()),this.unfilteredAppointments=this.appointments}cancel(){this.modalCtrl.dismiss()}getAppointmentTimeRange(n){let e=new Date(n.date),i=Math.floor(n.startTime),l=60*(n.startTime-i);e.setHours(i),e.setMinutes(l);const p=this.dataService.getHourRepresentation(e.getHours()+e.getMinutes()/60);return i=Math.floor(n.endTime),l=60*(n.endTime-i),e.setHours(i),e.setMinutes(l),`${p} - ${this.dataService.getHourRepresentation(e.getHours()+e.getMinutes()/60)}`}handleSearch(n){const e=n.target.value.toLowerCase();if(this.appointments=this.unfilteredAppointments,!e)return;const i=this.appointments.filter(l=>l.patient.firstName.concat(" ").concat(l.patient.lastName).toLowerCase().includes(e));this.appointments=i}onItemSelect(n){let e=new Date(n.date),i=0;for(let l of this.dataService.dateRanges){let p=new Date(l.startDate),C=new Date(l.endDate);if(e>=p&&e<=C)return this.dataService.dateRangeIndex.next(i),void this.modalCtrl.dismiss();i++}}}return(o=s).\u0275fac=function(n){return new(n||o)(t.Y36(f.D),t.Y36(u.IN))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-patient-search-modal"]],decls:15,vars:2,consts:[[1,"content"],[1,"centered"],["placeholder","Patient Name",1,"searchbar",3,"ionInput"],[1,"patient-list-container"],[3,"inset"],["class","patient-item",3,"click",4,"ngFor","ngForOf"],[1,"buttons-container"],["color","light",3,"click"],[1,"spacer"],[1,"patient-item",3,"click"],["color","medium"]],template:function(n,e){1&n&&(t.TgZ(0,"ion-content")(1,"div",0)(2,"ion-card-header")(3,"ion-card-title",1),t._uU(4,"PATIENT APPOINTMENT SEARCH"),t.qZA(),t.TgZ(5,"ion-card-content")(6,"ion-searchbar",2),t.NdJ("ionInput",function(l){return e.handleSearch(l)}),t.qZA(),t.TgZ(7,"div",3)(8,"ion-content")(9,"ion-list",4),t.YNc(10,S,12,4,"ion-item",5),t.qZA()()()(),t.TgZ(11,"div",6)(12,"ion-button",7),t.NdJ("click",function(){return e.cancel()}),t._uU(13,"BACK"),t.qZA()(),t._UZ(14,"div",8),t.qZA()()()),2&n&&(t.xp6(9),t.Q6J("inset",!0),t.xp6(1),t.Q6J("ngForOf",e.appointments))},dependencies:[d.sg,r.YG,r.FN,r.Zi,r.Dq,r.W2,r.Ie,r.Q$,r.q_,r.VI,r.yW,r.j9],styles:[".content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.centered[_ngcontent-%COMP%]{text-align:center}.buttons-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}.spacer[_ngcontent-%COMP%]{padding:10px}.patient-list-container[_ngcontent-%COMP%]{width:100%;height:40vh}.patient-item[_ngcontent-%COMP%]{cursor:pointer}"]}),s})(),A=(()=>{var o;class s{constructor(n,e,i){this.dataService=n,this.modalCtrl=e,this.router=i}ngOnInit(){}cancel(){this.modalCtrl.dismiss()}logout(){this.dataService.removeCurrentUser(),this.dataService.updatePhysicanName(""),this.router.navigate(["/login"]),this.modalCtrl.dismiss()}}return(o=s).\u0275fac=function(n){return new(n||o)(t.Y36(f.D),t.Y36(u.IN),t.Y36(v.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-logout-modal"]],inputs:{profile:"profile"},decls:21,vars:4,consts:[[1,"content"],[1,"centered","spaced-subtitle"],[1,"centered"],[1,"name"],[1,"small-font","role"],[1,"small-font","email","light-text"],[1,"buttons-container"],["color","light",3,"click"],[1,"spacer"],["color","primary",3,"click"],[1,"button__icon"],["name","log-out-outline"]],template:function(n,e){1&n&&(t.TgZ(0,"ion-content")(1,"div",0)(2,"ion-card-header")(3,"ion-card-subtitle",1),t._uU(4,"NORTHWEST MEDICAL CLINIC"),t.qZA(),t.TgZ(5,"ion-card-title",2)(6,"div",3),t._uU(7),t.qZA(),t.TgZ(8,"div",4),t._uU(9),t.qZA(),t.TgZ(10,"div",5),t._uU(11),t.qZA()()(),t.TgZ(12,"div",6)(13,"ion-button",7),t.NdJ("click",function(){return e.cancel()}),t._uU(14,"CANCEL"),t.qZA(),t._UZ(15,"div",8),t.TgZ(16,"ion-button",9),t.NdJ("click",function(){return e.logout()}),t._uU(17,"LOGOUT "),t.TgZ(18,"span",10),t._UZ(19,"ion-icon",11),t.qZA()()(),t._UZ(20,"div",8),t.qZA()()),2&n&&(t.xp6(7),t.AsE("",null==e.profile?null:e.profile.firstName," ",null==e.profile?null:e.profile.lastName,""),t.xp6(2),t.Oqu(null==e.profile?null:e.profile.role),t.xp6(2),t.Oqu(null==e.profile?null:e.profile.email))},dependencies:[r.YG,r.Zi,r.tO,r.Dq,r.W2,r.gu],styles:[".content[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}.centered[_ngcontent-%COMP%]{text-align:center}.buttons-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}.spacer[_ngcontent-%COMP%]{padding:10px}",".small-font[_ngcontent-%COMP%] {\n    font-size: 0.8em;\n  }\n\n  .name[_ngcontent-%COMP%] {\n    margin-bottom: 8px;\n  }\n\n  .role[_ngcontent-%COMP%] {\n    color: #696969;\n  }\n\n  .email[_ngcontent-%COMP%] {\n    margin-top: 8px;\n    margin-bottom: 2px;\n  }\n\n  .light-text[_ngcontent-%COMP%] {\n    color: #969696;\n  }\n\n  .spaced-subtitle[_ngcontent-%COMP%] {\n    margin-bottom: 8px;\n  }\n\n  .button__icon[_ngcontent-%COMP%]{\n    display: inline-flex;\n    font-size: 2em;\n    padding-left: 10px;\n  }"]}),s})();var y=m(1497),O=m.n(y);function Z(o,s){if(1&o&&(t.TgZ(0,"ion-select-option",17),t._uU(1),t.qZA()),2&o){const a=s.$implicit;t.Q6J("value",a),t.xp6(1),t.hij(" ",a," ")}}function H(o,s){if(1&o&&(t.TgZ(0,"ion-select-option",17),t._uU(1),t.qZA()),2&o){const a=s.$implicit;t.Q6J("value",a),t.xp6(1),t.hij(" ",a," ")}}let k=(()=>{var o;class s{constructor(n,e,i,l){this.dataService=n,this.modalCtrl=e,this.toastController=i,this.formBuilder=l,this.dateString="",this.startTimeFormControl=new c.NI,this.endTimeFormControl=new c.NI,this.firstNameFormControl=new c.NI,this.lastNameFormControl=new c.NI,this.phoneNumberFormControl=new c.NI,this.healthNumberFormControl=new c.NI,this.notesFormControl=new c.NI,this.formGroup=this.formBuilder.group({startTimeFormControl:this.startTimeFormControl,endTimeFormControl:this.endTimeFormControl,firstNameFormControl:this.firstNameFormControl,lastNameFormControl:this.lastNameFormControl,phoneNumberFormControl:this.phoneNumberFormControl,healthNumberFormControl:this.healthNumberFormControl,notesFormControl:this.notesFormControl}),this.startTimeNumber=0,this.endTimeNumber=0,this.phoneNumberPipe=O()("(999)999-9999"),this.timeLabels=this.dataService.getAllHourStringRepresentations(),this.startTimeFormControl.valueChanges.subscribe(p=>{this.startTimeNumber=this.dataService.timeLabelToRawHour(p)}),this.endTimeFormControl.valueChanges.subscribe(p=>{this.endTimeNumber=this.dataService.timeLabelToRawHour(p)})}ngOnInit(){this.appointment?this.initExistingAppointment(this.appointment):this.initNewAppointment()}initNewAppointment(){const n=this.date?this.date.toLocaleDateString():"",e=this.startTime?this.dataService.getHourRepresentation(this.startTime.getHours()+this.startTime.getMinutes()/60):"";this.startTimeNumber=this.startTime.getHours();const i=this.startTime?new Date(this.startTime):new Date;30===i.getMinutes()?(i.setHours(i.getHours()+1),i.setMinutes(0)):i.setMinutes(30);const l=this.dataService.getHourRepresentation(i.getHours()+i.getMinutes()/60);this.endTimeNumber=i.getHours()+i.getMinutes()/60,this.dateString=n,this.startTimeFormControl.setValue(e),this.endTimeFormControl.setValue(l)}initExistingAppointment(n){this.dateString=n.date,this.startTimeFormControl.setValue(this.dataService.getHourRepresentation(n.startTime)),this.startTimeNumber=n.startTime,this.endTimeFormControl.setValue(this.dataService.getHourRepresentation(n.endTime)),this.endTimeNumber=n.endTime,this.firstNameFormControl.setValue(n.patient.firstName),this.lastNameFormControl.setValue(n.patient.lastName),this.phoneNumberFormControl.setValue(n.patient.phoneNumber),this.healthNumberFormControl.setValue(n.patient.healthNumber),this.notesFormControl.setValue(n.notes)}formatPhoneNumber(n){const i=n.target.value.replace(/\D/g,""),l=this.formatPhoneNumberString(i);this.phoneNumberFormControl.setValue(l)}formatPhoneNumberString(n){const e=n.match(/^(\d{3})(\d{0,3})(\d{0,4})$/);return e?`(${e[1]})${e[2]?" "+e[2]:""}${e[3]?"-"+e[3]:""}`:n}cancel(){this.modalCtrl.dismiss(!1)}confirm(){var n=this;return(0,_.Z)(function*(){const e={id:n.appointment?n.appointment.id:n.dataService.generateRandomString(),date:n.dateString,startTime:n.startTimeNumber,endTime:n.endTimeNumber,patient:{firstName:n.firstNameFormControl.getRawValue(),lastName:n.lastNameFormControl.getRawValue(),phoneNumber:n.phoneNumberFormControl.getRawValue(),healthNumber:n.healthNumberFormControl.getRawValue()},physicianName:n.dataService.physicianName.getValue(),notes:n.notesFormControl.getRawValue(),checkedIn:!1};if(n.appointment){if(!n.dataService.updateAppointment(e))return void n.modalCtrl.dismiss(!1)}else n.dataService.createAppointment(e)&&n.presentCreationSuccessModal();n.modalCtrl.dismiss(!0)})()}presentCreationSuccessModal(){var n=this;return(0,_.Z)(function*(){yield(yield n.toastController.create({message:"Appointment has been successfully created",duration:3e3,position:"top",color:"success",cssClass:"centeredToast"})).present()})()}canConfirmAppointment(){return this.formGroup.valid&&!this.formGroup.pristine&&this.startTimeFormControl.getRawValue()&&this.endTimeFormControl.getRawValue()&&this.firstNameFormControl.getRawValue()&&this.lastNameFormControl.getRawValue()&&this.phoneNumberFormControl.getRawValue()&&this.healthNumberFormControl.getRawValue()}getStartTimes(){let n=[];for(let e=0;e<this.timeLabels.length;e++)this.dataService.timeLabelToRawHour(this.timeLabels[e])<this.endTimeNumber&&n.push(this.timeLabels[e]);return n}getEndTimes(){let n=[];for(let e=this.timeLabels.length-1;e>=0;e--)this.dataService.timeLabelToRawHour(this.timeLabels[e])>this.startTimeNumber&&n.push(this.timeLabels[e]);return n.reverse()}}return(o=s).\u0275fac=function(n){return new(n||o)(t.Y36(f.D),t.Y36(u.IN),t.Y36(u.yF),t.Y36(c.qu))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-create-appointment-modal"]],inputs:{date:"date",startTime:"startTime",appointment:"appointment"},decls:36,vars:14,consts:[[1,"content"],[1,"centered"],[1,"time-container"],[1,"spacer"],["labelPlacement","stacked","label","Date",3,"value","disabled"],["label","Start Time","label-placement","floating","fill","outline",3,"value","formControl"],[3,"value",4,"ngFor","ngForOf"],["label","End Time","label-placement","floating","fill","outline",3,"value","formControl"],[1,"name-container"],["labelPlacement","stacked","label","First Name","placeholder","Patient first name","errorText","Required",3,"formControl"],["labelPlacement","stacked","label","Last Name","placeholder","Patient last name","errorText","Required",3,"formControl"],["labelPlacement","stacked","label","Phone Number","type","tel","placeholder","(888) 888-8888","errorText","Required",3,"formControl","input"],["labelPlacement","stacked","label","Health Number","placeholder","000 000 000","errorText","Required",3,"formControl"],["label","Notes","labelPlacement","floating","fill","outline","placeholder","Enter additional patient information",2,"height","175px",3,"formControl"],[1,"buttons-container"],["color","light",3,"click"],["color","primary",3,"disabled","click"],[3,"value"]],template:function(n,e){1&n&&(t.TgZ(0,"ion-content")(1,"div",0)(2,"ion-card-title",1),t._uU(3,"APPOINTMENT BOOKING"),t.qZA(),t.TgZ(4,"ion-card-content"),t._UZ(5,"br"),t.TgZ(6,"div",2),t._UZ(7,"div",3)(8,"ion-input",4)(9,"div",3),t.TgZ(10,"ion-select",5),t.YNc(11,Z,2,2,"ion-select-option",6),t.qZA(),t._UZ(12,"div",3),t.TgZ(13,"ion-select",7),t.YNc(14,H,2,2,"ion-select-option",6),t.qZA(),t._UZ(15,"div",3),t.qZA(),t._UZ(16,"div",3),t.TgZ(17,"div",8),t._UZ(18,"div",3)(19,"ion-input",9)(20,"div",3)(21,"ion-input",10)(22,"div",3),t.TgZ(23,"ion-input",11),t.NdJ("input",function(l){return e.formatPhoneNumber(l)}),t.qZA(),t._UZ(24,"div",3)(25,"ion-input",12)(26,"div",3),t.qZA(),t._UZ(27,"div",3)(28,"ion-textarea",13),t.qZA(),t.TgZ(29,"div",14)(30,"ion-button",15),t.NdJ("click",function(){return e.cancel()}),t._uU(31,"CANCEL"),t.qZA(),t._UZ(32,"div",3),t.TgZ(33,"ion-button",16),t.NdJ("click",function(){return e.confirm()}),t._uU(34,"CONFIRM"),t.qZA()(),t._UZ(35,"div",3),t.qZA()()),2&n&&(t.xp6(8),t.Q6J("value",e.dateString)("disabled",!0),t.xp6(2),t.Q6J("value",e.startTimeFormControl.getRawValue())("formControl",e.startTimeFormControl),t.xp6(1),t.Q6J("ngForOf",e.getStartTimes()),t.xp6(2),t.Q6J("value",e.endTimeFormControl.getRawValue())("formControl",e.endTimeFormControl),t.xp6(1),t.Q6J("ngForOf",e.getEndTimes()),t.xp6(5),t.Q6J("formControl",e.firstNameFormControl),t.xp6(2),t.Q6J("formControl",e.lastNameFormControl),t.xp6(2),t.Q6J("formControl",e.phoneNumberFormControl),t.xp6(2),t.Q6J("formControl",e.healthNumberFormControl),t.xp6(3),t.Q6J("formControl",e.notesFormControl),t.xp6(5),t.Q6J("disabled",!e.canConfirmAppointment()))},dependencies:[d.sg,c.JJ,r.YG,r.FN,r.Dq,r.W2,r.pK,r.t9,r.n0,r.g2,r.QI,r.j9,c.oH],styles:[".content[_ngcontent-%COMP%]{padding-top:20px;width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}.centered[_ngcontent-%COMP%]{text-align:center}.buttons-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}.spacer[_ngcontent-%COMP%]{padding:10px}.time-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center}.name-container[_ngcontent-%COMP%]{display:flex;flex-direction:row}"]}),s})(),g=(()=>{var o;class s{constructor(n,e,i){this.dataService=n,this.modalCtrl=e,this.toastController=i}ngOnInit(){}cancel(){this.modalCtrl.dismiss(null)}confirm(){var n=this;return(0,_.Z)(function*(){yield(yield n.toastController.create({message:"Appointment was successfully removed from the schedule",duration:3e3,position:"top",color:"success",cssClass:"centeredToast"})).present(),n.modalCtrl.dismiss(1)})()}getAppointmentDate(){return this.appointment?new Date(this.appointment.date).toLocaleDateString("en-US"):""}getAppointmentTimeRange(){if(!this.appointment)return"";let n=new Date(this.appointment.date),e=Math.floor(this.appointment.startTime),i=60*(this.appointment.startTime-e);n.setHours(e),n.setMinutes(i);const l=this.dataService.getHourRepresentation(n.getHours()+n.getMinutes()/60);return e=Math.floor(this.appointment.endTime),i=60*(this.appointment.endTime-e),n.setHours(e),n.setMinutes(i),`${l} - ${this.dataService.getHourRepresentation(n.getHours()+n.getMinutes()/60)}`}}return(o=s).\u0275fac=function(n){return new(n||o)(t.Y36(f.D),t.Y36(u.IN),t.Y36(u.yF))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-cancel-appointment-modal"]],inputs:{appointment:"appointment"},decls:21,vars:5,consts:[[1,"content"],[1,"centered"],[1,"buttons-container"],["color","light",3,"click"],[1,"spacer"],["color","primary",3,"click"]],template:function(n,e){1&n&&(t.TgZ(0,"ion-content")(1,"div",0)(2,"ion-card-title",1),t._uU(3),t.qZA(),t.TgZ(4,"ion-card-subtitle"),t._uU(5),t.qZA(),t.TgZ(6,"ion-card-subtitle"),t._uU(7),t.qZA(),t.TgZ(8,"ion-card-subtitle"),t._uU(9),t.qZA(),t.TgZ(10,"ion-card-header",1)(11,"ion-card-content")(12,"ion-card-title"),t._uU(13,"Are you sure you want to remove this appointment from the schedule?"),t.qZA()()(),t.TgZ(14,"div",2)(15,"ion-button",3),t.NdJ("click",function(){return e.cancel()}),t._uU(16,"NO"),t.qZA(),t._UZ(17,"div",4),t.TgZ(18,"ion-button",5),t.NdJ("click",function(){return e.confirm()}),t._uU(19,"YES"),t.qZA()(),t._UZ(20,"div",4),t.qZA()()),2&n&&(t.xp6(3),t.AsE(" ",null==e.appointment||null==e.appointment.patient?null:e.appointment.patient.firstName," ",null==e.appointment||null==e.appointment.patient?null:e.appointment.patient.lastName,""),t.xp6(2),t.Oqu(null==e.appointment||null==e.appointment.patient?null:e.appointment.patient.healthNumber),t.xp6(2),t.Oqu(e.getAppointmentDate()),t.xp6(2),t.Oqu(e.getAppointmentTimeRange()))},dependencies:[r.YG,r.FN,r.Zi,r.tO,r.Dq,r.W2],styles:[".content[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}.buttons-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}.spacer[_ngcontent-%COMP%]{padding:10px}.centered[_ngcontent-%COMP%]{text-align:center}"]}),s})(),x=(()=>{var o;class s{constructor(n,e,i,l){this.dataService=n,this.modalCtrl=e,this.toastController=i,this.router=l,this.disabled=!0}ngOnInit(){}cancel(){this.modalCtrl.dismiss()}confirm(){this.modalCtrl.dismiss()}getAppointmentDate(){return this.appointment?new Date(this.appointment.date).toLocaleDateString("en-US"):""}getAppointmentTimeRange(){if(!this.appointment)return"";let n=new Date(this.appointment.date),e=Math.floor(this.appointment.startTime),i=60*(this.appointment.startTime-e);n.setHours(e),n.setMinutes(i);const l=this.dataService.getHourRepresentation(n.getHours()+n.getMinutes()/60);return e=Math.floor(this.appointment.endTime),i=60*(this.appointment.endTime-e),n.setHours(e),n.setMinutes(i),`${l} - ${this.dataService.getHourRepresentation(n.getHours()+n.getMinutes()/60)}`}openCancelAppointmentModal(){var n=this;return(0,_.Z)(function*(){if(!n.appointment)return;const e=yield n.modalCtrl.create({component:g,componentProps:{appointment:n.appointment}});e.present();const i=(yield e.onWillDismiss()).data;yield e.onDidDismiss(),i&&(n.dataService.cancelAppointment(n.appointment),n.dataService.scheduleUpdate.next(!0),n.modalCtrl.dismiss())})()}checkInOut(n){this.appointment.checkedIn=!this.appointment.checkedIn}getCheckInLabel(){var n;return null!==(n=this.appointment)&&void 0!==n&&n.checkedIn?"CHECK-OUT":"CHECK-IN"}updateAppointment(){var n=this;return(0,_.Z)(function*(){const e=yield n.modalCtrl.create({component:k,componentProps:{appointment:n.appointment}});e.present();const i=(yield e.onWillDismiss()).data;yield e.onDidDismiss(),i&&(yield(yield n.toastController.create({message:"Appointment has been succesfully updated",duration:3e3,position:"top",color:"primary",cssClass:"centeredToast"})).present(),n.modalCtrl.dismiss())})()}}return(o=s).\u0275fac=function(n){return new(n||o)(t.Y36(f.D),t.Y36(u.IN),t.Y36(u.yF),t.Y36(v.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-view-appointment-modal"]],inputs:{appointment:"appointment"},decls:40,vars:10,consts:[[1,"content"],[1,"centered"],[1,"name-id-container"],[1,"small-spacer"],[2,"line-height","3.0"],[1,"row-container"],["label","NOTES","labelPlacement","floating","fill","outline",1,"centered",2,"height","150px","width","500px",3,"value","disabled"],[1,"spacer"],[1,"appointment-controls-container"],["color","secondary",2,"width","100%",3,"click"],["color","danger",2,"width","100%",3,"click"],[3,"color","click"],[1,"buttons-container"],["color","light",3,"click"]],template:function(n,e){1&n&&(t.TgZ(0,"ion-content")(1,"div",0)(2,"ion-card-title",1),t._uU(3,"APPOINTMENT BOOKING"),t.qZA(),t._UZ(4,"br"),t.TgZ(5,"div",2)(6,"ion-card-subtitle",1),t._uU(7),t.qZA(),t._UZ(8,"div",3),t.TgZ(9,"ion-card-title",1),t._uU(10),t.qZA(),t._UZ(11,"div",3),t.TgZ(12,"ion-card-subtitle"),t._uU(13),t.qZA()(),t.TgZ(14,"ion-label",4)(15,"div",5)(16,"ion-card-title"),t._uU(17),t.qZA(),t._UZ(18,"div",3),t.TgZ(19,"ion-card-subtitle"),t._uU(20),t.qZA()()(),t.TgZ(21,"ion-card-content")(22,"div",1)(23,"div",1),t._UZ(24,"div",1)(25,"ion-textarea",6),t.qZA(),t._UZ(26,"div",7),t.TgZ(27,"div",8),t._UZ(28,"div",3),t.TgZ(29,"div",5)(30,"ion-button",9),t.NdJ("click",function(){return e.updateAppointment()}),t._uU(31,"UPDATE"),t.qZA(),t.TgZ(32,"ion-button",10),t.NdJ("click",function(){return e.openCancelAppointmentModal()}),t._uU(33,"REMOVE"),t.qZA()(),t.TgZ(34,"ion-button",11),t.NdJ("click",function(){return e.checkInOut(e.appointment)}),t._uU(35),t.qZA()()()(),t.TgZ(36,"div",12)(37,"ion-button",13),t.NdJ("click",function(){return e.cancel()}),t._uU(38,"DISMISS"),t.qZA()(),t._UZ(39,"div",7),t.qZA()()),2&n&&(t.xp6(7),t.hij(" ",null==e.appointment||null==e.appointment.patient?null:e.appointment.patient.phoneNumber,""),t.xp6(3),t.AsE(" ",null==e.appointment||null==e.appointment.patient?null:e.appointment.patient.firstName," ",null==e.appointment||null==e.appointment.patient?null:e.appointment.patient.lastName,""),t.xp6(3),t.hij("ID ",null==e.appointment||null==e.appointment.patient?null:e.appointment.patient.healthNumber,""),t.xp6(4),t.Oqu(e.getAppointmentDate()),t.xp6(3),t.Oqu(e.getAppointmentTimeRange()),t.xp6(5),t.Q6J("value",null==e.appointment?null:e.appointment.notes)("disabled",!0),t.xp6(9),t.Q6J("color",null!=e.appointment&&e.appointment.checkedIn?"warning":"success"),t.xp6(1),t.hij(" ",e.getCheckInLabel()," "))},dependencies:[r.YG,r.FN,r.tO,r.Dq,r.W2,r.Q$,r.g2,r.j9],styles:[".content[_ngcontent-%COMP%]{width:100%;padding-top:20px;display:flex;flex-direction:column;justify-content:center;align-items:center}.centered[_ngcontent-%COMP%]{text-align:center}.buttons-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}.spacer[_ngcontent-%COMP%]{padding:10px}.time-container[_ngcontent-%COMP%], .name-container[_ngcontent-%COMP%]{display:flex;flex-direction:row}.main-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:row}.patient-information-container[_ngcontent-%COMP%], .appointment-controls-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.row-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;text-align:center;align-items:center;justify-content:center}.name-id-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:baseline}.column-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.small-spacer[_ngcontent-%COMP%]{padding:5px}"]}),s})();function w(o,s){if(1&o&&(t.TgZ(0,"ion-text",13),t._uU(1),t.qZA()),2&o){const a=t.oxw().$implicit,n=t.oxw(2);t.xp6(1),t.hij(" ",n.getTimeslotPatientName(a)," ")}}const h=function(o,s,a){return{extend:o,noExtend:s,first:a}};function N(o,s){if(1&o&&(t.TgZ(0,"div",8),t.YNc(1,w,2,1,"ion-text",12),t.qZA()),2&o){const a=s.$implicit,n=t.oxw().index,e=t.oxw();t.Q6J("ngClass",t.kEZ(2,h,e.nextTimeslotHasBooking(n,a),!e.nextTimeslotHasBooking(n,a),!e.previousTimeslotHasBooking(n,a))),t.xp6(1),t.Q6J("ngIf",!e.previousTimeslotHasBooking(n,a))}}function U(o,s){if(1&o&&(t.TgZ(0,"ion-text",13),t._uU(1),t.qZA()),2&o){const a=t.oxw().$implicit,n=t.oxw(2);t.xp6(1),t.hij(" ",n.getTimeslotPatientName(a)," ")}}function q(o,s){if(1&o&&(t.TgZ(0,"div",8),t.YNc(1,U,2,1,"ion-text",12),t.qZA()),2&o){const a=s.$implicit,n=t.oxw().index,e=t.oxw();t.Q6J("ngClass",t.kEZ(2,h,e.nextTimeslotHasBooking(n,a),!e.nextTimeslotHasBooking(n,a),!e.previousTimeslotHasBooking(n,a))),t.xp6(1),t.Q6J("ngIf",!e.previousTimeslotHasBooking(n,a))}}function D(o,s){if(1&o&&(t.TgZ(0,"ion-text",13),t._uU(1),t.qZA()),2&o){const a=t.oxw().$implicit,n=t.oxw(2);t.xp6(1),t.hij(" ",n.getTimeslotPatientName(a)," ")}}function J(o,s){if(1&o&&(t.TgZ(0,"div",8),t.YNc(1,D,2,1,"ion-text",12),t.qZA()),2&o){const a=s.$implicit,n=t.oxw().index,e=t.oxw();t.Q6J("ngClass",t.kEZ(2,h,e.nextTimeslotHasBooking(n,a),!e.nextTimeslotHasBooking(n,a),!e.previousTimeslotHasBooking(n,a))),t.xp6(1),t.Q6J("ngIf",!e.previousTimeslotHasBooking(n,a))}}function F(o,s){if(1&o&&(t.TgZ(0,"ion-text",13),t._uU(1),t.qZA()),2&o){const a=t.oxw().$implicit,n=t.oxw(2);t.xp6(1),t.hij(" ",n.getTimeslotPatientName(a)," ")}}function V(o,s){if(1&o&&(t.TgZ(0,"div",8),t.YNc(1,F,2,1,"ion-text",12),t.qZA()),2&o){const a=s.$implicit,n=t.oxw().index,e=t.oxw();t.Q6J("ngClass",t.kEZ(2,h,e.nextTimeslotHasBooking(n,a),!e.nextTimeslotHasBooking(n,a),!e.previousTimeslotHasBooking(n,a))),t.xp6(1),t.Q6J("ngIf",!e.previousTimeslotHasBooking(n,a))}}function Q(o,s){if(1&o&&(t.TgZ(0,"ion-text",13),t._uU(1),t.qZA()),2&o){const a=t.oxw().$implicit,n=t.oxw(2);t.xp6(1),t.hij(" ",n.getTimeslotPatientName(a)," ")}}function Y(o,s){if(1&o&&(t.TgZ(0,"div",8),t.YNc(1,Q,2,1,"ion-text",12),t.qZA()),2&o){const a=s.$implicit,n=t.oxw().index,e=t.oxw();t.Q6J("ngClass",t.kEZ(2,h,e.nextTimeslotHasBooking(n,a),!e.nextTimeslotHasBooking(n,a),!e.previousTimeslotHasBooking(n,a))),t.xp6(1),t.Q6J("ngIf",!e.previousTimeslotHasBooking(n,a))}}function B(o,s){if(1&o&&(t.TgZ(0,"ion-text",13),t._uU(1),t.qZA()),2&o){const a=t.oxw().$implicit,n=t.oxw(2);t.xp6(1),t.hij(" ",n.getTimeslotPatientName(a)," ")}}function E(o,s){if(1&o&&(t.TgZ(0,"div",8),t.YNc(1,B,2,1,"ion-text",12),t.qZA()),2&o){const a=s.$implicit,n=t.oxw().index,e=t.oxw();t.Q6J("ngClass",t.kEZ(2,h,e.nextTimeslotHasBooking(n,a),!e.nextTimeslotHasBooking(n,a),!e.previousTimeslotHasBooking(n,a))),t.xp6(1),t.Q6J("ngIf",!e.previousTimeslotHasBooking(n,a))}}function L(o,s){if(1&o&&(t.TgZ(0,"ion-text",13),t._uU(1),t.qZA()),2&o){const a=t.oxw().$implicit,n=t.oxw(2);t.xp6(1),t.hij(" ",n.getTimeslotPatientName(a)," ")}}function j(o,s){if(1&o&&(t.TgZ(0,"div",8),t.YNc(1,L,2,1,"ion-text",12),t.qZA()),2&o){const a=s.$implicit,n=t.oxw().index,e=t.oxw();t.Q6J("ngClass",t.kEZ(2,h,e.nextTimeslotHasBooking(n,a),!e.nextTimeslotHasBooking(n,a),!e.previousTimeslotHasBooking(n,a))),t.xp6(1),t.Q6J("ngIf",!e.previousTimeslotHasBooking(n,a))}}const $=function(o,s){return{"has-time":o,"last-row":s}},b=function(o){return{isBooking:o}};function G(o,s){if(1&o){const a=t.EpF();t.TgZ(0,"ion-grid",7)(1,"ion-row",8)(2,"ion-col",9),t._uU(3),t.qZA(),t.TgZ(4,"ion-col",10),t.NdJ("click",function(){const i=t.CHM(a).index,l=t.oxw();return t.KtG(l.onTimeslotSelect(0,i))}),t.YNc(5,N,2,6,"div",11),t.qZA(),t.TgZ(6,"ion-col",10),t.NdJ("click",function(){const i=t.CHM(a).index,l=t.oxw();return t.KtG(l.onTimeslotSelect(1,i))}),t.YNc(7,q,2,6,"div",11),t.qZA(),t.TgZ(8,"ion-col",10),t.NdJ("click",function(){const i=t.CHM(a).index,l=t.oxw();return t.KtG(l.onTimeslotSelect(2,i))}),t.YNc(9,J,2,6,"div",11),t.qZA(),t.TgZ(10,"ion-col",10),t.NdJ("click",function(){const i=t.CHM(a).index,l=t.oxw();return t.KtG(l.onTimeslotSelect(3,i))}),t.YNc(11,V,2,6,"div",11),t.qZA(),t.TgZ(12,"ion-col",10),t.NdJ("click",function(){const i=t.CHM(a).index,l=t.oxw();return t.KtG(l.onTimeslotSelect(4,i))}),t.YNc(13,Y,2,6,"div",11),t.qZA(),t.TgZ(14,"ion-col",10),t.NdJ("click",function(){const i=t.CHM(a).index,l=t.oxw();return t.KtG(l.onTimeslotSelect(5,i))}),t.YNc(15,E,2,6,"div",11),t.qZA(),t.TgZ(16,"ion-col",10),t.NdJ("click",function(){const i=t.CHM(a).index,l=t.oxw();return t.KtG(l.onTimeslotSelect(6,i))}),t.YNc(17,j,2,6,"div",11),t.qZA()()()}if(2&o){const a=s.$implicit,n=s.index,e=t.oxw();t.xp6(1),t.Q6J("ngClass",t.WLB(16,$,!a,n==e.timeLabels.length-1)),t.xp6(2),t.Oqu(a),t.xp6(1),t.Q6J("ngClass",t.VKq(19,b,e.timeslotHasBooking(n,e.getAppointment(0,n)))),t.xp6(1),t.Q6J("ngIf",e.getAppointment(0,n)),t.xp6(1),t.Q6J("ngClass",t.VKq(21,b,e.timeslotHasBooking(n,e.getAppointment(1,n)))),t.xp6(1),t.Q6J("ngIf",e.getAppointment(1,n)),t.xp6(1),t.Q6J("ngClass",t.VKq(23,b,e.timeslotHasBooking(n,e.getAppointment(2,n)))),t.xp6(1),t.Q6J("ngIf",e.getAppointment(2,n)),t.xp6(1),t.Q6J("ngClass",t.VKq(25,b,e.timeslotHasBooking(n,e.getAppointment(3,n)))),t.xp6(1),t.Q6J("ngIf",e.getAppointment(3,n)),t.xp6(1),t.Q6J("ngClass",t.VKq(27,b,e.timeslotHasBooking(n,e.getAppointment(4,n)))),t.xp6(1),t.Q6J("ngIf",e.getAppointment(4,n)),t.xp6(1),t.Q6J("ngClass",t.VKq(29,b,e.timeslotHasBooking(n,e.getAppointment(5,n)))),t.xp6(1),t.Q6J("ngIf",e.getAppointment(5,n)),t.xp6(1),t.Q6J("ngClass",t.VKq(31,b,e.timeslotHasBooking(n,e.getAppointment(6,n)))),t.xp6(1),t.Q6J("ngIf",e.getAppointment(6,n))}}let W=(()=>{var o;class s{constructor(n,e,i){this.dataService=n,this.modalCtrl=e,this.changeDetector=i,this.dateRangeIndex=0,this.hourToggleValue=!1,this.timeLabels=this.dataService.getHourStringRepresentations(),this.hourToggleValue=this.dataService.isTwelveHourRepresentation()}ngOnInit(){this.dataService.scheduleUpdate.subscribe(()=>{this.changeDetector.detectChanges()})}onHourToggleChange(n){this.dataService.setTwelveHourRepresentation(n.detail.checked),this.timeLabels=this.dataService.getHourStringRepresentations()}onTimeslotSelect(n,e){var i=this;return(0,_.Z)(function*(){let l=i.getAppointment(n,e);l?(yield i.modalCtrl.create({component:x,componentProps:{appointment:l}})).present():(yield i.modalCtrl.create({component:k,componentProps:{date:i.getWeekdayDate(n),startTime:i.getTimeslotDate(n,e)}})).present()})()}getWeekdayDate(n){const i=new Date(this.dataService.dateRanges[this.dateRangeIndex].startDate);return i.setDate(i.getDate()+n),i}getTimeslotDate(n,e){const l=new Date(this.dataService.dateRanges[this.dateRangeIndex].startDate);l.setDate(l.getDate()+n);const p=this.dataService.getRawHourRepresentations();let C=Math.floor(p[e]),I=60*(p[e]-C);return l.setHours(l.getHours()+C),l.setMinutes(I),l}getDateNumber(n){return this.getWeekdayDate(n).getDate()}getDailySchedule(n){return this.dataService.getScheduleByDate(n)}getAppointment(n,e){let i=this.getTimeslotDate(n,e).toLocaleDateString("en-US");const l=this.dataService.getRawHourRepresentations()[e];let p=this.dataService.getScheduleByDate(i);for(let C of p)if(C&&this.timeInRange(l,C))return C;return null}timeInRange(n,e){return e.startTime<=n&&n<e.endTime}timeslotHasBooking(n,e){if(!e)return!1;const i=this.dataService.getRawHourRepresentations()[n];return this.timeInRange(i,e)}nextTimeslotHasBooking(n,e){const i=this.dataService.getRawHourRepresentations()[n];return this.timeInRange(i+.5,e)}previousTimeslotHasBooking(n,e){const i=this.dataService.getRawHourRepresentations()[n];return this.timeInRange(i-.5,e)}getTimeslotPatientName(n){let e=n.patient.firstName.concat(" ").concat(n.patient.lastName);return e.length<=15?e:e.slice(0,15).concat("...")}}return(o=s).\u0275fac=function(n){return new(n||o)(t.Y36(f.D),t.Y36(u.IN),t.Y36(t.sBO))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-calendar-view"]],inputs:{dateRangeIndex:"dateRangeIndex"},decls:41,vars:11,consts:[[3,"scrollY"],[1,"content"],[1,"spacer"],[3,"ngModel","ngModelChange","ionChange"],["color","medium"],["class","timeslot-grid",4,"ngFor","ngForOf"],[1,"calendar-bottom"],[1,"timeslot-grid"],[3,"ngClass"],[1,"time-label"],[3,"ngClass","click"],[3,"ngClass",4,"ngIf"],["class","appointmentTitle",4,"ngIf"],[1,"appointmentTitle"]],template:function(n,e){1&n&&(t.TgZ(0,"ion-content",0)(1,"div",1),t._UZ(2,"div",2),t.TgZ(3,"ion-grid")(4,"ion-row")(5,"ion-col")(6,"ion-toggle",3),t.NdJ("ngModelChange",function(l){return e.hourToggleValue=l})("ionChange",function(l){return e.onHourToggleChange(l)}),t.TgZ(7,"ion-text",4),t._uU(8,"12 Hour"),t.qZA()()(),t.TgZ(9,"ion-col"),t._uU(10,"MON "),t.TgZ(11,"ion-text",4),t._uU(12),t.qZA()(),t.TgZ(13,"ion-col"),t._uU(14,"TUES "),t.TgZ(15,"ion-text",4),t._uU(16),t.qZA()(),t.TgZ(17,"ion-col"),t._uU(18,"WED "),t.TgZ(19,"ion-text",4),t._uU(20),t.qZA()(),t.TgZ(21,"ion-col"),t._uU(22,"THURS "),t.TgZ(23,"ion-text",4),t._uU(24),t.qZA()(),t.TgZ(25,"ion-col"),t._uU(26,"FRI "),t.TgZ(27,"ion-text",4),t._uU(28),t.qZA()(),t.TgZ(29,"ion-col"),t._uU(30,"SAT "),t.TgZ(31,"ion-text",4),t._uU(32),t.qZA()(),t.TgZ(33,"ion-col"),t._uU(34,"SUN "),t.TgZ(35,"ion-text",4),t._uU(36),t.qZA()()()(),t.TgZ(37,"ion-content",0),t._UZ(38,"div",2),t.YNc(39,G,18,33,"ion-grid",5),t._UZ(40,"div",6),t.qZA()()()),2&n&&(t.Q6J("scrollY",!1),t.xp6(6),t.Q6J("ngModel",e.hourToggleValue),t.xp6(6),t.Oqu(e.getDateNumber(0)),t.xp6(4),t.Oqu(e.getDateNumber(1)),t.xp6(4),t.Oqu(e.getDateNumber(2)),t.xp6(4),t.Oqu(e.getDateNumber(3)),t.xp6(4),t.Oqu(e.getDateNumber(4)),t.xp6(4),t.Oqu(e.getDateNumber(5)),t.xp6(4),t.Oqu(e.getDateNumber(6)),t.xp6(1),t.Q6J("scrollY",!0),t.xp6(2),t.Q6J("ngForOf",e.timeLabels))},dependencies:[d.mk,d.sg,d.O5,c.JJ,c.On,r.wI,r.W2,r.jY,r.Nd,r.yW,r.ho,r.w],styles:[".content[_ngcontent-%COMP%]{width:100%;height:100%}.content[_ngcontent-%COMP%]:hover{cursor:pointer}ion-col[_ngcontent-%COMP%]{text-align:center}.timeslot-grid[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}.timeslot-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{height:30px}.timeslot-grid[_ngcontent-%COMP%]   ion-row.has-time[_ngcontent-%COMP%]:not(.last-row)   ion-col[_ngcontent-%COMP%]:not(.time-label){border-bottom:solid 1px grey}.timeslot-grid[_ngcontent-%COMP%]   ion-row.last-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]:not(.time-label){border-bottom:none}.timeslot-grid[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]:not(.time-label){border-bottom:dotted 1px lightgray;border-right:solid 1px grey}.timeslot-grid[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]:not(.time-label):not(.isBooking):hover{background-color:#d3d3d3}.timeslot-grid[_ngcontent-%COMP%]   ion-col.time-label[_ngcontent-%COMP%]{transform:translateY(-15px);color:gray}ion-card[_ngcontent-%COMP%]{padding:0;margin:0}.spacer[_ngcontent-%COMP%]{padding:10px}.calendar-bottom[_ngcontent-%COMP%]{padding:40px}.extend[_ngcontent-%COMP%]{width:100%;height:200%;background-color:#3dc2ff}.noExtend[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#3dc2ff;border-bottom-left-radius:10px;border-bottom-right-radius:10px}.first[_ngcontent-%COMP%]{border-top-left-radius:10px;border-top-right-radius:10px}.appointment[_ngcontent-%COMP%]:hover, .appointmentTitle[_ngcontent-%COMP%]{cursor:pointer}"]}),s})();function K(o,s){if(1&o&&(t.TgZ(0,"ion-select-option",19),t._uU(1),t.qZA()),2&o){const a=s.$implicit;t.Q6J("value",a),t.xp6(1),t.Oqu(a)}}function X(o,s){if(1&o&&t._UZ(0,"app-calendar-view",20),2&o){const a=t.oxw();t.Q6J("dateRangeIndex",a.dateRangeIndex)}}function z(o,s){1&o&&(t.TgZ(0,"ion-content")(1,"div",21)(2,"ion-text"),t._uU(3,"PLEASE SELECT A "),t.TgZ(4,"b"),t._uU(5,"PHYSICIAN NAME"),t.qZA(),t._uU(6," IN THE UPPER TOOLBAR TO VIEW THE SCHEDULE"),t.qZA()()())}const tt=[{path:"",component:(()=>{var o;class s{constructor(n,e){this.dataService=n,this.modalCtrl=e,this.physicianName="",this.dateRangeIndex=52,this.userContext=this.dataService.getCurrentUser(),this.physicianNameList=this.dataService.getPhysicianNameList(),this.dataService.dateRangeIndex.subscribe(i=>{this.dateRangeIndex=i}),this.dataService.physicianName.subscribe(i=>{this.physicianName=i})}openCalendar(){var n=this;return(0,_.Z)(function*(){n.physicianName&&(yield n.modalCtrl.create({component:P})).present()})()}getCurrentDateRange(){const n=this.dataService.dateRanges[this.dateRangeIndex];return`${n.startDate} - ${n.endDate}`}decrementDateIndex(){this.dateRangeIndex-=this.dateRangeIndex>0?1:0}incrementDateIndex(){this.dateRangeIndex+=this.dateRangeIndex<this.dataService.dateRanges.length-1?1:0}openPatientSearchModal(){var n=this;return(0,_.Z)(function*(){(yield n.modalCtrl.create({component:M})).present()})()}openLogoutModal(){var n=this;return(0,_.Z)(function*(){(yield n.modalCtrl.create({component:A,componentProps:{profile:n.dataService.getSystemUser()},cssClass:"custom-modal"})).present()})()}updatePhysicianName(n){this.dataService.updatePhysicanName(n.detail.value)}}return(o=s).\u0275fac=function(n){return new(n||o)(t.Y36(f.D),t.Y36(u.IN))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-home"]],decls:34,vars:14,consts:[[1,"toolbar"],[1,"toolbar-spacer"],[1,"user-context",3,"click"],[1,"row"],[1,"col"],[1,"spacer"],["color","primary","size","large","name","log-out-outline",1,"logout-button"],["label-placement","floating","fill","outline",3,"label","ngModel","ngModelChange","ionChange"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Patient Name",3,"disabled","click"],["size","small",3,"disabled","click"],["name","chevron-back-outline"],[1,"dateButton",3,"click"],[1,"button__icon"],["name","calendar-outline",3,"color"],[3,"color"],["name","chevron-forward-outline"],[3,"dateRangeIndex",4,"ngIf","ngIfElse"],["emptyCalendar",""],[3,"value"],[3,"dateRangeIndex"],[1,"content"]],template:function(n,e){if(1&n&&(t.TgZ(0,"ion-header")(1,"div",0),t._UZ(2,"div",1),t.TgZ(3,"ion-card",2),t.NdJ("click",function(){return e.openLogoutModal()}),t.TgZ(4,"ion-card-header")(5,"div",3)(6,"div",4)(7,"ion-card-title"),t._uU(8),t.qZA(),t.TgZ(9,"ion-card-subtitle"),t._uU(10),t.qZA()(),t._UZ(11,"div",5),t.TgZ(12,"div",4),t._UZ(13,"ion-icon",6),t.qZA()()()(),t._UZ(14,"div",1),t.TgZ(15,"ion-select",7),t.NdJ("ngModelChange",function(l){return e.physicianName=l})("ionChange",function(l){return e.updatePhysicianName(l)}),t.YNc(16,K,2,2,"ion-select-option",8),t.qZA(),t._UZ(17,"div",1),t.TgZ(18,"ion-searchbar",9),t.NdJ("click",function(){return e.openPatientSearchModal()}),t.qZA(),t._UZ(19,"div",1),t.TgZ(20,"ion-button",10),t.NdJ("click",function(){return e.decrementDateIndex()}),t._UZ(21,"ion-icon",11),t.qZA(),t.TgZ(22,"ion-title",12),t.NdJ("click",function(){return e.openCalendar()}),t.TgZ(23,"span",13),t._UZ(24,"ion-icon",14),t.qZA(),t.TgZ(25,"ion-text",15),t._uU(26),t.qZA()(),t.TgZ(27,"ion-button",10),t.NdJ("click",function(){return e.incrementDateIndex()}),t._UZ(28,"ion-icon",16),t.qZA(),t._UZ(29,"div",1),t.qZA()(),t.TgZ(30,"ion-content"),t.YNc(31,X,1,1,"app-calendar-view",17),t.qZA(),t.YNc(32,z,7,0,"ng-template",null,18,t.W1O)),2&n){const i=t.MAs(33);t.xp6(8),t.AsE("",e.userContext.firstName," ",e.userContext.lastName,""),t.xp6(2),t.Oqu(e.userContext.role),t.xp6(5),t.Q6J("label",e.physicianName?"Physician Name":"Select a physician name")("ngModel",e.physicianName),t.xp6(1),t.Q6J("ngForOf",e.physicianNameList),t.xp6(2),t.Q6J("disabled",!e.physicianName),t.xp6(2),t.Q6J("disabled",!e.physicianName),t.xp6(4),t.Q6J("color",e.physicianName?"primary":"medium"),t.xp6(1),t.Q6J("color",e.physicianName?"dark":"medium"),t.xp6(1),t.Oqu(e.getCurrentDateRange()),t.xp6(1),t.Q6J("disabled",!e.physicianName),t.xp6(4),t.Q6J("ngIf",e.physicianName)("ngIfElse",i)}},dependencies:[d.sg,d.O5,c.JJ,c.On,r.YG,r.PM,r.Zi,r.tO,r.Dq,r.W2,r.Gu,r.gu,r.VI,r.t9,r.n0,r.yW,r.wd,r.QI,r.j9,W],styles:[".toolbar[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center}.toolbar-spacer[_ngcontent-%COMP%]{padding:10px}.user-context[_ngcontent-%COMP%]{width:60vw}.user-context[_ngcontent-%COMP%]:hover{cursor:pointer}.content[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.dateButton[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center}.dateButton[_ngcontent-%COMP%]:hover{cursor:pointer}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center}.col[_ngcontent-%COMP%]{display:flex;flex-direction:column}.logout-button[_ngcontent-%COMP%]:hover{font-weight:700}.spacer[_ngcontent-%COMP%]{padding:10px}",".button__icon[_ngcontent-%COMP%]{\n    padding-left: 5px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }"]}),s})()}];let et=(()=>{var o;class s{}return(o=s).\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[v.Bz.forChild(tt),v.Bz]}),s})(),nt=(()=>{var o;class s{}return(o=s).\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[d.ez,c.u5,r.Pc,et,c.UX]}),s})()},1497:function(R){R.exports=function(T){function m(r){if(d[r])return d[r].exports;var c=d[r]={exports:{},id:r,loaded:!1};return T[r].call(c.exports,c,c.exports,m),c.loaded=!0,c.exports}var d={};return m.m=T,m.c=d,m.p="",m(0)}([function(T,m,d){T.exports=d(1)},function(T,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.default=function d(){var v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mm dd yyyy",_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=_.minYear,f=void 0===t?1:t,u=_.maxYear,P=void 0===u?9999:u,S=v.split(/[^dmyHMS]+/).sort(function(M,A){return c.indexOf(M)-c.indexOf(A)});return function(M){var A=[],y={dd:31,mm:12,yy:99,yyyy:P,HH:23,MM:59,SS:59},O={dd:1,mm:1,yy:0,yyyy:f,HH:0,MM:0,SS:0},Z=M.split("");S.forEach(function(g){var x=v.indexOf(g),w=parseInt(y[g].toString().substr(0,1),10);parseInt(Z[x],10)>w&&(Z[x+1]=Z[x],Z[x]=0,A.push(x))});var H=0;return!S.some(function(g){var x=v.indexOf(g),w=g.length,h=M.substr(x,w).replace(/\D/g,""),N=parseInt(h,10);"mm"===g&&(H=N||0);var U="dd"===g?r[H]:y[g];if("yyyy"===g&&(1!==f||9999!==P)){var q=parseInt(y[g].toString().substring(0,h.length),10);return N<parseInt(O[g].toString().substring(0,h.length),10)||N>q}return N>U||h.length===w&&N<O[g]})&&{value:Z.join(""),indexesOfPipedChars:A}}};var r=[31,31,29,31,30,31,30,31,31,30,31,30,31],c=["yyyy","yy","mm","dd","HH","MM","SS"]}])}}]);