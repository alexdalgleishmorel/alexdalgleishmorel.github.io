<ion-content [scrollY]="false">
  <div class="content">
    <div class="spacer"></div>
    <ion-grid>
      <ion-row>
        <ion-col><ion-toggle [(ngModel)]="hourToggleValue" (ionChange)="onHourToggleChange($event)"><ion-text color="medium">12 Hour</ion-text></ion-toggle></ion-col>
        <ion-col>MON <ion-text color="medium">{{getDateNumber(0)}}</ion-text></ion-col>
        <ion-col>TUES <ion-text color="medium">{{getDateNumber(1)}}</ion-text></ion-col>
        <ion-col>WED <ion-text color="medium">{{getDateNumber(2)}}</ion-text></ion-col>
        <ion-col>THURS <ion-text color="medium">{{getDateNumber(3)}}</ion-text></ion-col>
        <ion-col>FRI <ion-text color="medium">{{getDateNumber(4)}}</ion-text></ion-col>
        <ion-col>SAT <ion-text color="medium">{{getDateNumber(5)}}</ion-text></ion-col>
        <ion-col>SUN <ion-text color="medium">{{getDateNumber(6)}}</ion-text></ion-col>
      </ion-row>
    </ion-grid>
    <ion-content [scrollY]="true">
      <div class="spacer"></div>
      <ion-grid class="timeslot-grid" *ngFor="let time of timeLabels; index as i;">
        <ion-row>
          <ion-col class="time-label">{{time}}</ion-col>
          <ion-col (click)="onTimeslotSelect(0, i)" [ngClass]="{'isBooking': timeslotHasBooking(i, getAppointment(0, i))}">
            <div  
              [ngClass]="{
                'extend': nextTimeslotHasBooking(i, appointment), 
                'noExtend': !nextTimeslotHasBooking(i, appointment),
                'first': !previousTimeslotHasBooking(i, appointment)
              }" 
              *ngIf="getAppointment(0, i); let appointment"
            >
            <ion-text class="appointmentTitle" *ngIf="!previousTimeslotHasBooking(i, appointment)">
              {{getTimeslotPatientName(appointment)}}
            </ion-text>
            </div>
          </ion-col>
          <ion-col (click)="onTimeslotSelect(1, i)" [ngClass]="{'isBooking': timeslotHasBooking(i, getAppointment(1, i))}">
            <div  
              [ngClass]="{
                'extend': nextTimeslotHasBooking(i, appointment), 
                'noExtend': !nextTimeslotHasBooking(i, appointment),
                'first': !previousTimeslotHasBooking(i, appointment)
              }"
              *ngIf="getAppointment(1, i); let appointment"
            >
            <ion-text class="appointmentTitle" *ngIf="!previousTimeslotHasBooking(i, appointment)">
              {{getTimeslotPatientName(appointment)}}
            </ion-text>
            </div>
          </ion-col>
          <ion-col (click)="onTimeslotSelect(2, i)" [ngClass]="{'isBooking': timeslotHasBooking(i, getAppointment(2, i))}">
            <div  
              [ngClass]="{
                'extend': nextTimeslotHasBooking(i, appointment), 
                'noExtend': !nextTimeslotHasBooking(i, appointment),
                'first': !previousTimeslotHasBooking(i, appointment)
              }" 
              *ngIf="getAppointment(2, i); let appointment"
            >
            <ion-text class="appointmentTitle" *ngIf="!previousTimeslotHasBooking(i, appointment)">
              {{getTimeslotPatientName(appointment)}}
            </ion-text>
            </div>
          </ion-col>
          <ion-col (click)="onTimeslotSelect(3, i)" [ngClass]="{'isBooking': timeslotHasBooking(i, getAppointment(3, i))}">
            <div  
              [ngClass]="{
                'extend': nextTimeslotHasBooking(i, appointment), 
                'noExtend': !nextTimeslotHasBooking(i, appointment),
                'first': !previousTimeslotHasBooking(i, appointment)
              }" 
              *ngIf="getAppointment(3, i); let appointment"
            >
            <ion-text class="appointmentTitle" *ngIf="!previousTimeslotHasBooking(i, appointment)">
              {{getTimeslotPatientName(appointment)}}
            </ion-text>
            </div>
          </ion-col>
          <ion-col (click)="onTimeslotSelect(4, i)" [ngClass]="{'isBooking': timeslotHasBooking(i, getAppointment(4, i))}">
            <div  
              [ngClass]="{
                'extend': nextTimeslotHasBooking(i, appointment), 
                'noExtend': !nextTimeslotHasBooking(i, appointment),
                'first': !previousTimeslotHasBooking(i, appointment)
              }" 
              *ngIf="getAppointment(4, i); let appointment"
            >
            <ion-text class="appointmentTitle" *ngIf="!previousTimeslotHasBooking(i, appointment)">
              {{getTimeslotPatientName(appointment)}}
            </ion-text>
            </div>
          </ion-col>
          <ion-col (click)="onTimeslotSelect(5, i)" [ngClass]="{'isBooking': timeslotHasBooking(i, getAppointment(5, i))}">
            <div  
              [ngClass]="{
                'extend': nextTimeslotHasBooking(i, appointment), 
                'noExtend': !nextTimeslotHasBooking(i, appointment),
                'first': !previousTimeslotHasBooking(i, appointment)
              }"
              *ngIf="getAppointment(5, i); let appointment"
            >
            <ion-text class="appointmentTitle" *ngIf="!previousTimeslotHasBooking(i, appointment)">
              {{getTimeslotPatientName(appointment)}}
            </ion-text>
            </div>
          </ion-col>
          <ion-col (click)="onTimeslotSelect(6, i)" [ngClass]="{'isBooking': timeslotHasBooking(i, getAppointment(6, i))}">
            <div  
              [ngClass]="{
                'extend': nextTimeslotHasBooking(i, appointment), 
                'noExtend': !nextTimeslotHasBooking(i, appointment),
                'first': !previousTimeslotHasBooking(i, appointment)
              }" 
              *ngIf="getAppointment(6, i); let appointment"
            >
            <ion-text class="appointmentTitle" *ngIf="!previousTimeslotHasBooking(i, appointment)">
              {{getTimeslotPatientName(appointment)}}
            </ion-text>
            </div>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-content>
  </div>
</ion-content>
